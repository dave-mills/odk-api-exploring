---
title: "Kobotools API example"
output: html_notebook
---


To get the data from a specific form, you need the uid of the form. This is the long alphanumeric string in the url when you're looking at the form on Kobotools. 

E.g: https://kf.kobotoolbox.org/#/forms/aB3QNqHH9UspsyaU4cpwva/summary
Here, the uid = aB3QNqHH9UspsyaU4cpwva


```{r}
library(httr)
library(jsonlite)

# Add the Form UID here
form_uid <- ""
kpi_url <- "https://kf.kobotoolbox.org/assets/"

# Update these with your Kobo ID and username
user = ""
password = ""


resp <- GET(
                paste(kpi_url, form_uid, "submissions", sep="/"),
                authenticate(user, password),
                content_type("text/json"),
                accept_json()
)

## Get the data out of the response in a helpful way
# Raw text string (json)
dataAsText <- content(resp, as="text")

# Set of R Vectors / Lists
dataAsLists <- content(resp, as="parsed")

# As a dataframe (I assume this is the most useful??)
dataAsFrame <- fromJSON(dataAsText)

```

